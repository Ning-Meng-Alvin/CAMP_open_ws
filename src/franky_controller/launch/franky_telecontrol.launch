<?xml version="1.0" ?>
<launch>
    <!-- init spacemouse -->
    <include file="$(find spacenav_node)/launch/classic.launch"/>

    <!-- init velocity controller implemented based on franky -->
    <node pkg="moveit_franky_bridge"
            type="moveit_result_to_franky_goal.py"
            name="moveit_franky_bridge_node"
            output="log"/>

    <!-- init rviz moveit -->
    <include file="$(find franky_moveit_config)/launch/demo.launch"/>


    <node pkg="rosbag_recoder" 
        type="recorder_node.py"
        name="rosbag_recoder" 
        output="screen">
        <rosparam command="load" file="$(find rosbag_recoder)/config/recorder.yaml"/>
    </node>

    <!-- initialize force/torque sensor -->
    <node name = "ft_data_nodes" 
        pkg = "netft_utils"  
        type = "netft_node"
        output = "log" 
        args = "172.31.1.177"/> 
        <!-- args = "192.168.106.100"/> -->

    <!-- load force calibration result -->
    <node name="clean_calib_launcher"
        pkg="franky_controller"
        type="clean_launch_calib.sh"
        output="screen" />
    
    <!-- (start tracking system's ROS driver) -->
     <group ns="eye_on_base">
        <include file="$(find realsense2_camera)/launch/rs_camera.launch">
            <arg name="serial_no" value="030522070773"/> 
            <arg name="tf_prefix" value="eye_on_base"/>
            <arg name="enable_color"      value="true"/>
            <arg name="enable_depth"      value="true"/>
            <arg name="enable_pointcloud" value="true"/>

        </include>
    </group>

    <group ns="eye_on_hand">
        <include file="$(find realsense2_camera)/launch/rs_camera.launch">
            <arg name="serial_no" value="733512070734"/>
            <arg name="tf_prefix" value="eye_on_hand"/>
            <arg name="enable_color"      value="true"/>
            <arg name="enable_depth"      value="true"/>
            <arg name="enable_pointcloud" value="true"/>
        </include>
    </group>   


    <!-- Hand-eye TF  -->
    <node pkg="easy_handeye"
          type="publish_base_to_camera.py"
          name="publish_base_to_camera"
          output="log"
          respawn_delay="10.0" />

    <node pkg="easy_handeye"
          type="publish_hand_to_camera.py"
          name="publish_hand_to_camera"
          output="log"
          respawn_delay="10.0" />

    <!--    US   pic  -->
    <include file="$(find usdev_framegrab)/launch/stream_usimg.launch"/>


    <include file="$(find openh_rosbag_recoder)/launch/recorder.launch"/>

</launch>

